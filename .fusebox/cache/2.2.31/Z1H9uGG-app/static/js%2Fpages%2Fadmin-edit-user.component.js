module.exports = { contents: "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'admin-edit-user',\n  props: ['usrdata'],\n  data: function data() {\n    return {\n      id: '',\n      email: '',\n      password: '********',\n      name: '',\n      rights: [],\n      roleoverride: 'none'\n    };\n  },\n\n  methods: {\n    addRightsRow: function addRightsRow() {\n      this.rights.push({\n        role: 'write',\n        path: '/',\n        exact: false,\n        deny: false\n      });\n    },\n    removeRightsRow: function removeRightsRow(idx) {\n      this._.pullAt(this.rights, idx);\n      this.$forceUpdate();\n    },\n    saveUser: function saveUser() {\n      var self = this;\n      var formattedRights = this._.cloneDeep(this.rights);\n      switch (this.roleoverride) {\n        case 'admin':\n          formattedRights.push({\n            role: 'admin',\n            path: '/',\n            exact: false,\n            deny: false\n          });\n          break;\n      }\n      this.$http.post(window.location.href, {\n        password: this.password,\n        name: this.name,\n        rights: JSON.stringify(formattedRights)\n      }).then(function (resp) {\n        self.$store.dispatch('alert', {\n          style: 'green',\n          icon: 'check',\n          msg: 'Changes have been applied successfully.'\n        });\n      }).catch(function (err) {\n        self.$store.dispatch('alert', {\n          style: 'red',\n          icon: 'square-cross',\n          msg: 'Error: ' + err.body.msg\n        });\n      });\n    }\n  },\n  mounted: function mounted() {\n    var usr = JSON.parse(this.usrdata);\n    this.id = usr._id;\n    this.email = usr.email;\n    this.name = usr.name;\n\n    if (this._.find(usr.rights, { role: 'admin' })) {\n      this.rights = this._.reject(usr.rights, ['role', 'admin']);\n      this.roleoverride = 'admin';\n    } else {\n      this.rights = usr.rights;\n    }\n  }\n};",
dependencies: [],
sourceMap: {},
headerContent: undefined,
mtime: 1548128996000,
devLibsRequired : undefined
};