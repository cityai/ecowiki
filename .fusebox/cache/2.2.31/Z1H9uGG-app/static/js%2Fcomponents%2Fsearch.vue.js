module.exports = { contents: "var _p = {};\nvar _v = function(exports){\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    data: function () {\n        return {\n            searchq: '',\n            searchres: [],\n            searchsuggest: [],\n            searchload: 0,\n            searchactive: false,\n            searchmoveidx: 0,\n            searchmovekey: '',\n            searchmovearr: []\n        };\n    },\n    watch: {\n        searchq: function (val, oldVal) {\n            var self = this;\n            self.searchmoveidx = 0;\n            if (val.length >= 3) {\n                self.searchactive = true;\n                self.searchload++;\n                socket.emit('search', { terms: val }, function (data) {\n                    self.searchres = self._.map(data.match, function (m) {\n                        m.entryPath = siteRoot + \"/\" + m.entryPath;\n                        return m;\n                    });\n                    self.searchsuggest = data.suggest;\n                    self.searchmovearr = self._.concat([], self.searchres, self.searchsuggest);\n                    if (self.searchload > 0) {\n                        self.searchload--;\n                    }\n                });\n            }\n            else {\n                self.searchactive = false;\n                self.searchres = [];\n                self.searchsuggest = [];\n                self.searchmovearr = [];\n                self.searchload = 0;\n            }\n        },\n        searchmoveidx: function (val, oldVal) {\n            if (val > 0) {\n                this.searchmovekey = (this.searchmovearr[val - 1])\n                    ? 'res.' + this.searchmovearr[val - 1].entryPath\n                    : 'sug.' + this.searchmovearr[val - 1];\n            }\n            else {\n                this.searchmovekey = '';\n            }\n        }\n    },\n    methods: {\n        useSuggestion: function (sug) {\n            this.searchq = sug;\n        },\n        closeSearch: function () {\n            this.searchq = '';\n        },\n        moveSelectSearch: function () {\n            if (this.searchmoveidx < 1) {\n                return;\n            }\n            var i = this.searchmoveidx - 1;\n            if (this.searchmovearr[i]) {\n                window.location.assign(this.searchmovearr[i].entryPath);\n            }\n            else {\n                this.searchq = this.searchmovearr[i];\n            }\n        },\n        moveDownSearch: function () {\n            if (this.searchmoveidx < this.searchmovearr.length) {\n                this.searchmoveidx++;\n            }\n        },\n        moveUpSearch: function () {\n            if (this.searchmoveidx > 0) {\n                this.searchmoveidx--;\n            }\n        }\n    },\n    mounted: function () {\n        var self = this;\n        $('main').on('click', self.closeSearch);\n    }\n};\n\n};\n_p.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-item\"},[_c('p',{staticClass:\"control\",class:{ \"is-loading\": _vm.searchload > 0 }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchq),expression:\"searchq\"}],staticClass:\"input\",attrs:{\"id\":\"search-input\",\"type\":\"text\",\"autofocus\":\"autofocus\",\"debounce\":\"400\",\"placeholder\":_vm.$t(\"search.placeholder\")},domProps:{\"value\":(_vm.searchq)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27)){ return null; }_vm.closeSearch($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40)){ return null; }_vm.moveDownSearch($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38)){ return null; }_vm.moveUpSearch($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13)){ return null; }_vm.moveSelectSearch($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.searchq=$event.target.value}}})]),_c('transition',{attrs:{\"name\":\"searchresults\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchactive),expression:\"searchactive\"}],staticClass:\"searchresults\"},[_c('p',{staticClass:\"searchresults-label\"},[_vm._v(_vm._s(_vm.$t('search.results')))]),_c('ul',{staticClass:\"searchresults-list\"},[(_vm.searchres.length === 0)?_c('li',[_c('a',[_c('em',[_vm._v(_vm._s(_vm.$t('search.nomatch')))])])]):_vm._e(),_vm._l((_vm.searchres),function(sres){return _c('li',{class:{ \"is-active\": _vm.searchmovekey === \"res.\" + sres.entryPath }},[_c('a',{attrs:{\"href\":sres.entryPath}},[_vm._v(_vm._s(sres.title))])])})],2),(_vm.searchsuggest.length > 0)?_c('p',{staticClass:\"searchresults-label\"},[_vm._v(_vm._s(_vm.$t('search.didyoumean')))]):_vm._e(),(_vm.searchsuggest.length > 0)?_c('ul',{staticClass:\"searchresults-list\"},_vm._l((_vm.searchsuggest),function(sug){return _c('li',{class:{ \"is-active\": _vm.searchmovekey === \"sug.\" + sug }},[_c('a',{on:{\"click\":function($event){_vm.useSuggestion(sug)}}},[_vm._v(_vm._s(sug))])])})):_vm._e()])])],1)}\n_p.staticRenderFns = [  ];\nvar _e = {}; _v(_e); Object.assign(_e.default.options||_e.default, _p)\nmodule.exports = _e\n    ",
dependencies: [],
sourceMap: {},
headerContent: undefined,
mtime: 1548128996000,
devLibsRequired : undefined
};