module.exports = { contents: "var _p = {};\nvar _v = function(exports){\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    name: 'modal-create-user',\n    data: function () {\n        return {\n            email: '',\n            provider: 'local',\n            password: '',\n            name: '',\n            isLoading: false\n        };\n    },\n    computed: {\n        isShown: function () {\n            return this.$store.state.modalCreateUser.shown;\n        }\n    },\n    methods: {\n        init: function () {\n            var self = this;\n            self._.delay(function () {\n                self.$refs.createUserEmailInput.focus();\n            }, 100);\n        },\n        cancel: function () {\n            this.$store.dispatch('modalCreateUser/close');\n            this.email = '';\n            this.provider = 'local';\n        },\n        create: function () {\n            var _this = this;\n            var self = this;\n            this.isLoading = true;\n            this.$http.post('/admin/users/create', {\n                email: this.email,\n                provider: this.provider,\n                password: this.password,\n                name: this.name\n            }).then(function (resp) {\n                return resp.json();\n            }).then(function (resp) {\n                _this.isLoading = false;\n                if (resp.ok) {\n                    _this.cancel();\n                    window.location.reload(true);\n                }\n                else {\n                    self.$store.dispatch('alert', {\n                        style: 'red',\n                        icon: 'ui-2_square-remove-09',\n                        msg: resp.msg\n                    });\n                }\n            }).catch(function (err) {\n                _this.isLoading = false;\n                self.$store.dispatch('alert', {\n                    style: 'red',\n                    icon: 'ui-2_square-remove-09',\n                    msg: 'Error: ' + err.body.msg\n                });\n            });\n        }\n    },\n    mounted: function () {\n        this.$root.$on('modalCreateUser/init', this.init);\n    }\n};\n\n};\n_p.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"duration\":400}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShown),expression:\"isShown\"}],staticClass:\"modal\"},[_c('transition',{attrs:{\"name\":\"modal-background\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShown),expression:\"isShown\"}],staticClass:\"modal-background\"})]),_c('div',{staticClass:\"modal-container\"},[_c('transition',{attrs:{\"name\":\"modal-content\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShown),expression:\"isShown\"}],staticClass:\"modal-content\"},[_c('header',{staticClass:\"is-blue\"},[_c('span',[_vm._v(_vm._s(_vm.$t('modal.createusertitle')))]),_c('p',{staticClass:\"modal-notify\",class:{ \"is-active\": _vm.isLoading }},[_c('i')])]),_c('section',[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('modal.createuseremail')))]),_c('p',{staticClass:\"control is-fullwidth\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],ref:\"createUserEmailInput\",staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t(\"modal.createuseremailplaceholder\")},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})])]),_c('section',[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('modal.createuserprovider')))]),_c('p',{staticClass:\"control is-fullwidth\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.provider),expression:\"provider\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.provider=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"local\"}},[_vm._v(\"Local Database\")]),_c('option',{attrs:{\"value\":\"windowslive\"}},[_vm._v(\"Microsoft Account\")]),_c('option',{attrs:{\"value\":\"google\"}},[_vm._v(\"Google ID\")]),_c('option',{attrs:{\"value\":\"facebook\"}},[_vm._v(\"Facebook\")]),_c('option',{attrs:{\"value\":\"github\"}},[_vm._v(\"GitHub\")]),_c('option',{attrs:{\"value\":\"slack\"}},[_vm._v(\"Slack\")])])])]),(_vm.provider==\"local\")?_c('section',[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('modal.createuserpassword')))]),_c('p',{staticClass:\"control is-fullwidth\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]):_vm._e(),(_vm.provider==\"local\")?_c('section',[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('modal.createusername')))]),_c('p',{staticClass:\"control is-fullwidth\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t(\"modal.createusernameplaceholder\")},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])]):_vm._e(),_c('footer',[_c('a',{staticClass:\"button is-grey is-outlined\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('modal.discard')))]),(_vm.provider==\"local\")?_c('a',{staticClass:\"button\",class:{ \"is-disabled\": _vm.isLoading, \"is-blue\": !_vm.loading },attrs:{\"disabled\":_vm.isLoading},on:{\"click\":_vm.create}},[_vm._v(_vm._s(_vm.$t('modal.createuser')))]):_vm._e(),(_vm.provider!=\"local\")?_c('a',{staticClass:\"button\",class:{ \"is-disabled\": _vm.isLoading, \"is-blue\": !_vm.loading },attrs:{\"disabled\":_vm.isLoading},on:{\"click\":_vm.create}},[_vm._v(_vm._s(_vm.$t('modal.createuserauthorize')))]):_vm._e()])])])],1)],1)])}\n_p.staticRenderFns = [  ];\nvar _e = {}; _v(_e); Object.assign(_e.default.options||_e.default, _p)\nmodule.exports = _e\n    ",
dependencies: [],
sourceMap: {},
headerContent: undefined,
mtime: 1548128996000,
devLibsRequired : undefined
};